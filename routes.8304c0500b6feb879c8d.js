(window.webpackJsonp=window.webpackJsonp||[]).push([["routes"],{470:function(e,t,a){"use strict";var n=a(0);t.a=(e=>{const[t,a]=Object(n.useState)(e),s=Object(n.useCallback)(e=>{a(Object.assign({},t,e))},[t]);return[t,s]})},482:function(e,t,a){"use strict";const n=a(2).b.a`
  color: blue;
  text-decoration: underline;

  &:hover {
    color: orange;
  }
`;t.a=n},486:function(e){e.exports={defaultTournament:"cl",defaultStage:"gs",currentSeason:{wc:2018,uefa:{cl:{gs:2018,ko:2018},el:{gs:2018,ko:2018}}}}},487:function(e,t,a){"use strict";var n=a(2);const s=a(482).a.withComponent("div"),r=Object(n.b)(s)`
  cursor: pointer;
`;t.a=r},488:function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"a",function(){return l});var n=a(204);const s=a.n(n).a.getParser(window.navigator.userAgent),r=s.getPlatformType(),o="mobile"===r||"tablet"===r,l="Firefox"===s.getBrowserName()},489:function(e,t,a){"use strict";t.a=((e="")=>`${e}${Math.random().toString(36).slice(2)}`)},490:function(e,t,a){"use strict";const n=a(514);t.a=(e=>n(`./${e}.svg`))},503:function(e){e.exports={alb:"al",and:"ad",arm:"am",aut:"at",azb:"az",bel:"be",bls:"by",bos:"ba",bul:"bg",cro:"hr",cyp:"cy",cze:"cz",den:"dk",eng:"gb-eng",esp:"es",est:"ee",far:"fo",fin:"fi",fra:"fr",geo:"ge",ger:"de",gib:"gi",gre:"gr",hun:"hu",irl:"ie",isl:"is",isr:"il",ita:"it",kaz:"kz",kos:"xk",lat:"lv",lie:"li",ltu:"lt",lux:"lu",mac:"mk",mlt:"mt",mol:"md",mon:"me",ned:"nl",nir:"gb-nir",nor:"no",pol:"pl",por:"pt",rom:"ro",rus:"ru",sco:"gb-sct",slo:"si",sma:"sm",srb:"rs",sui:"ch",svk:"sk",swe:"se",tur:"tr",ukr:"ua",wal:"gb-wls"}},511:function(e){e.exports=[["Real Madrid","Barcelona"],["Real Madrid","Atlético"],["Man City","Man United"],["Chelsea","Arsenal"],["Chelsea","Tottenham"],["Arsenal","Tottenham"],["Milan","Internazionale"],["Benfica","Porto"],["Benfica","Sporting"],["CSKA","Spartak"],["CSKA","Zenit"],["Zenit","Spartak"],["Shakhtar","Dinamo Kiev"],["Olympiakos","Panathinaikos"]]},512:function(e,t,a){var n={"./2018/cl.json":[517,3],"./2018/el.json":[518,4]};function s(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],s=t[0];return a.e(t[1]).then(function(){return a.t(s,3)})}s.keys=function(){return Object.keys(n)},s.id=512,e.exports=s},513:function(e){e.exports={"gb-eng":["Bournemouth","Arsenal","Brighton","Burnley","Chelsea","Crystal Palace","Everton","Huddersfield","Leicester","Liverpool","Man City","Man United","Newcastle","Southampton","Stoke","Watford","Swansea","Tottenham","West Brom","West Ham","Leeds","Birmingham","Aston Villa","Norwich","Hull","Fulham","Wigan"],es:["Alavés","Athletic","Atlético","Barcelona","Celta","Deportivo","Eibar","Espanyol","Getafe","Girona","Las Palmas","Leganés","Levante","Málaga","Betis","Real Madrid","Real Sociedad","Sevilla","Valencia","Villarreal","Elche","Cádiz","Tarragona","Recreativo","Almería"],it:["Atalanta","Benevento","Bologna","Cagliari","Chievo","Crotone","Fiorentina","Genoa","Verona","Juventus","Roma","Napoli","Lazio","Milan","Internazionale","Torino","Sampdoria","Sassuolo","Udinese","Chievo","Empoli","Palermo","Pescara","Livorno","Siena","Parma","Bari","Pisa"],de:["Mainz","Frankfurt","Köln","Dortmund","Bremen","Mönchengladbach","Darmstadt","Leipzig","Bayern","Freiburg","Ingolstadt","Schalke","Hamburg","Wolfsburg","Hertha","Leverkusen","Hoffenheim","Augsburg","Stuttgart","Nürnberg","Duisburg","Kaiserslautern","Aachen","Energie","Hannover"],fr:["Angers","Montpellier","Guingamp","Metz","Lille","Nantes","Lorient","Bordeaux","Lyon","Nice","Marseille","Bastia","Nancy","St-Étienne","Paris","Caen","Rennes","Monaco","Toulouse","Dijon","Auxerre","Strasbourg","Châteauroux","Lens"],ru:["CSKA","Lokomotiv","Zenit","Spartak","Rostov","Rubin","Anji","Alania","Krasnodar","Dinamo Moskva","Ufa"],pt:["Porto","Benfica","Sporting CP","Braga","Boavista","Nacional","Guimarães","Marítimo","Paços Ferreira","Estoril","Belenenses","Académica"],nl:["PSV","Ajax","AZ","Feyenoord","Twente","Groningen","Utrecht","Roda","Heerenveen","NAC","NEC","Zwolle","Vitesse"],be:["Anderlecht","Standard","Club Brugge","Genk","Gent","Lokeren","Zulte Waregem"],ua:["Dynamo","Shakhtar","Metalist","Karpaty","Dnipro","Olexandria","Zorya","Chornomorets","Vorskla"],tr:["Bursaspor","Konyaspor","Galatasaray","Fenerbahçe","Beşiktaş","Trabzonspor","Başakşehir","Kayserispor","Osmanlıspor","Akhisarspor"],ro:["Steaua","Dinamo București","Rapid București","CFR Cluj","Unirea","Oțelul","Astra","Poli Timișoara","Pandurii","Vaslui"],cz:["Sparta","Slavia","Plzeň","Bohemians","Brno","Mladá Boleslav","Zlín","Liberec","Jablonec"],sk:["Petržalka","Ružomberok","Žilina","Slovan","Trenčín","Spartak Trnava"],ch:["Basel","Zürich","Thun","Grasshoppers","Young Boys","Sevettte","Lugano","Lausanne","Sion","St Gallen","Luzern"],at:["Austria Wien","Rapid Wien","Salzburg","Sturm","Altach","Admira"],by:["BATE","Dinamo Minsk"],kz:["Astana","Kairat","Irtysh","Shakhter","Aktobe","Ordabasy"],no:["Rosenborg","Vålerenga","Start","Brann","Viking","Odd","Molde","Sarpsborg","Tromsø"],md:["Sheriff"],se:["Malmö","Elfsborg","Norrköping","Trelleborg","AIK","Helsingborg","Östersund"],"gb-sct":["Celtic","Rangers","Aberdeen","Motherwell","Dundee","Dundee United","Partick","Hearts"],pl:["Legia","Wisła Kraków","Śląsk","Lech"],rs:["Partizan","Crvena zvezda","Vojvodina"],il:["M. Haifa","Bnei Yehuda","H. Haifa","H. Tel-Aviv","M. Tel-Aviv","Beitar Jerusalem","M. Petach-Tikva","H. Kiryat Shmona","H. Beer-Sheva"],hu:["Debrecen","Újpest","Ferencváros","Vidi","Fehérvár"],hr:["Dinamo Zagreb","Hajduk","Rijeka"],si:["Domžale","Olimpija Ljubljana","Maribor"],gr:["Olympiacos","Panathinaikos","AEK","PAOK","Xanthi","Panionios","Aris","Asteras"],dk:["København","Brøndby","Nordsjælland","Midtjylland","AaB","Lyngby","Esbjerg","OB"],bg:["Levski","CSKA Sofia","Ludogorets","Litex","Lokomotiv Sofia"],cy:["Anorthosis","APOEL","Omonia","AEL","Apollon"],az:["Qarabağ","Qäbälä","Neftçi"],lv:["Ventspils"],fi:["HJK"],al:["Skënderbeu","Kukës","Partizani","Vllaznia"],mk:["Shkëndija","Vardar","Rabotnički"],lu:["Dudelange"]}},514:function(e,t,a){var n={"./ad.svg":211,"./ae.svg":212,"./af.svg":213,"./ag.svg":214,"./ai.svg":215,"./al.svg":216,"./am.svg":217,"./ao.svg":218,"./aq.svg":219,"./ar.svg":220,"./as.svg":221,"./at.svg":222,"./au.svg":223,"./aw.svg":224,"./ax.svg":225,"./az.svg":226,"./ba.svg":227,"./bb.svg":228,"./bd.svg":229,"./be.svg":230,"./bf.svg":231,"./bg.svg":232,"./bh.svg":233,"./bi.svg":234,"./bj.svg":235,"./bl.svg":236,"./bm.svg":237,"./bn.svg":238,"./bo.svg":239,"./bq.svg":240,"./br.svg":241,"./bs.svg":242,"./bt.svg":243,"./bv.svg":244,"./bw.svg":245,"./by.svg":246,"./bz.svg":247,"./ca.svg":248,"./cc.svg":249,"./cd.svg":250,"./cf.svg":251,"./cg.svg":252,"./ch.svg":253,"./ci.svg":254,"./ck.svg":255,"./cl.svg":256,"./cm.svg":257,"./cn.svg":258,"./co.svg":259,"./cr.svg":260,"./cu.svg":261,"./cv.svg":262,"./cw.svg":263,"./cx.svg":264,"./cy.svg":265,"./cz.svg":266,"./de.svg":267,"./dj.svg":268,"./dk.svg":269,"./dm.svg":270,"./do.svg":271,"./dz.svg":272,"./ec.svg":273,"./ee.svg":274,"./eg.svg":275,"./eh.svg":276,"./er.svg":277,"./es-ct.svg":278,"./es.svg":279,"./et.svg":280,"./eu.svg":281,"./fi.svg":282,"./fj.svg":283,"./fk.svg":284,"./fm.svg":285,"./fo.svg":286,"./fr.svg":287,"./ga.svg":288,"./gb-eng.svg":289,"./gb-nir.svg":290,"./gb-sct.svg":291,"./gb-wls.svg":292,"./gb.svg":293,"./gd.svg":294,"./ge.svg":295,"./gf.svg":296,"./gg.svg":297,"./gh.svg":298,"./gi.svg":299,"./gl.svg":300,"./gm.svg":301,"./gn.svg":302,"./gp.svg":303,"./gq.svg":304,"./gr.svg":305,"./gs.svg":306,"./gt.svg":307,"./gu.svg":308,"./gw.svg":309,"./gy.svg":310,"./hk.svg":311,"./hm.svg":312,"./hn.svg":313,"./hr.svg":314,"./ht.svg":315,"./hu.svg":316,"./id.svg":317,"./ie.svg":318,"./il.svg":319,"./im.svg":320,"./in.svg":321,"./io.svg":322,"./iq.svg":323,"./ir.svg":324,"./is.svg":325,"./it.svg":326,"./je.svg":327,"./jm.svg":328,"./jo.svg":329,"./jp.svg":330,"./ke.svg":331,"./kg.svg":332,"./kh.svg":333,"./ki.svg":334,"./km.svg":335,"./kn.svg":336,"./kp.svg":337,"./kr.svg":338,"./kw.svg":339,"./ky.svg":340,"./kz.svg":341,"./la.svg":342,"./lb.svg":343,"./lc.svg":344,"./li.svg":345,"./lk.svg":346,"./lr.svg":347,"./ls.svg":348,"./lt.svg":349,"./lu.svg":350,"./lv.svg":351,"./ly.svg":352,"./ma.svg":353,"./mc.svg":354,"./md.svg":355,"./me.svg":356,"./mf.svg":357,"./mg.svg":358,"./mh.svg":359,"./mk.svg":360,"./ml.svg":361,"./mm.svg":362,"./mn.svg":363,"./mo.svg":364,"./mp.svg":365,"./mq.svg":366,"./mr.svg":367,"./ms.svg":368,"./mt.svg":369,"./mu.svg":370,"./mv.svg":371,"./mw.svg":372,"./mx.svg":373,"./my.svg":374,"./mz.svg":375,"./na.svg":376,"./nc.svg":377,"./ne.svg":378,"./nf.svg":379,"./ng.svg":380,"./ni.svg":381,"./nl.svg":382,"./no.svg":383,"./np.svg":384,"./nr.svg":385,"./nu.svg":386,"./nz.svg":387,"./om.svg":388,"./pa.svg":389,"./pe.svg":390,"./pf.svg":391,"./pg.svg":392,"./ph.svg":393,"./pk.svg":394,"./pl.svg":395,"./pm.svg":396,"./pn.svg":397,"./pr.svg":398,"./ps.svg":399,"./pt.svg":400,"./pw.svg":401,"./py.svg":402,"./qa.svg":403,"./re.svg":404,"./ro.svg":405,"./rs.svg":406,"./ru.svg":407,"./rw.svg":408,"./sa.svg":409,"./sb.svg":410,"./sc.svg":411,"./sd.svg":412,"./se.svg":413,"./sg.svg":414,"./sh.svg":415,"./si.svg":416,"./sj.svg":417,"./sk.svg":418,"./sl.svg":419,"./sm.svg":420,"./sn.svg":421,"./so.svg":422,"./sr.svg":423,"./ss.svg":424,"./st.svg":425,"./sv.svg":426,"./sx.svg":427,"./sy.svg":428,"./sz.svg":429,"./tc.svg":430,"./td.svg":431,"./tf.svg":432,"./tg.svg":433,"./th.svg":434,"./tj.svg":435,"./tk.svg":436,"./tl.svg":437,"./tm.svg":438,"./tn.svg":439,"./to.svg":440,"./tr.svg":441,"./tt.svg":442,"./tv.svg":443,"./tw.svg":444,"./tz.svg":445,"./ua.svg":446,"./ug.svg":447,"./um.svg":448,"./un.svg":449,"./us.svg":450,"./uy.svg":451,"./uz.svg":452,"./va.svg":453,"./vc.svg":454,"./ve.svg":455,"./vg.svg":456,"./vi.svg":457,"./vn.svg":458,"./vu.svg":459,"./wf.svg":460,"./ws.svg":461,"./xk.svg":462,"./ye.svg":463,"./yt.svg":464,"./za.svg":465,"./zm.svg":466,"./zw.svg":467};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=514},515:function(e,t,a){var n={"./cl/gs/index":[527,0,2],"./cl/ko/index":[520,1,"cl.ko"],"./el/gs/index":[521,0,"el.gs"],"./el/ko/index":[523,1,"el.ko"],"./wc/gs/index":[524,0,"wc.gs"]};function s(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],s=t[0];return Promise.all(t.slice(1).map(a.e)).then(function(){return a(s)})}s.keys=function(){return Object.keys(n)},s.id=515,e.exports=s},516:function(e,t,a){var n={"./wc-2018.json":[526,"wc-data0"]};function s(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],s=t[0];return a.e(t[1]).then(function(){return a.t(s,3)})}s.keys=function(){return Object.keys(n)},s.id=516,e.exports=s},529:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(203),o=a(9),l=a(197),i=a(486),c=a(16),g=a(2);var v=g.b.div`
  visibility: ${e=>e.visible?"":"hidden"};
`;const{wc:u,uefa:m}=i.currentSeason;var d=(e,t)=>"wc"===e?u:m[e||"cl"][t||"gs"],f=a(482),h=a(487),b=a(488),p=a(198),k=a(201),E=a(489);const w=g.b.div`
  display: inline;
  margin-left: 3px;
  margin-right: 3px;
`,y=g.b.label`
  display: none;
`;var j=Object(n.memo)(e=>{var{label:t,children:a}=e,r=k.a(e,["label","children"]);const[o]=(e=>{const[t,a]=Object(n.useState)(Object(E.a)(e));return[t,Object(n.useCallback)(()=>{a(Object(E.a)(e))},[])]})("select-");return s.a.createElement(w,null,s.a.createElement(y,{htmlFor:o},t),s.a.createElement("select",Object.assign({id:o,title:t},r),a))});const S={cl:2e3,el:2009,wc:2018};var O=Object(n.memo)(({tournament:e,stage:t,season:a,onChange:r})=>{const o=Object(n.useCallback)(a=>{const n=+a.target.value;r(e,t,n)},[e,t,r]),l=Object(n.useCallback)(e=>{const a=e.target.value;r(a,t,d(a,t))},[t,r]),i=Object(n.useCallback)(t=>{const a=t.target.value;r(e,a,d(e,a))},[e,r]),c=S[e];return s.a.createElement("div",null,s.a.createElement(j,{label:"tournament",onChange:l,value:e},s.a.createElement("option",{value:"cl"},"Champions League"),s.a.createElement("option",{value:"el"},"Europa League"),s.a.createElement("option",{value:"wc"},"World Cup")),s.a.createElement(j,{label:"stage",onChange:i,value:t},s.a.createElement("option",{value:"gs"},"Group Stage"),"wc"!==e&&s.a.createElement("option",{value:"ko"},"Knockout Stage")),s.a.createElement(j,{label:"season",onChange:o,value:a},p(d(e,t),c-1).map(t=>s.a.createElement("option",{key:t,value:t},((e,t)=>"wc"===e?t:(e=>`${e}/${((e+1)%100).toString().padStart(2,"0")}`)(t))(e,t)))))});const C=g.b.div`
  display: flex;
  justify-content: center;
  margin-left: 5px;
  width: 80px;
`;var x=Object(n.memo)(()=>s.a.createElement(C,null,s.a.createElement("a",{target:"_blank",rel:"noopener",href:"https://github.com/inker/draw"},s.a.createElement("img",{alt:"Star",src:"https://githubbadges.com/star.svg?user=inker&repo=draw&style=flat"}))));const L=g.b.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding-right: 10px;
  padding-bottom: 10px;
  font-size: 16px;

  & > * {
    margin-left: 5px;
    &:not(:last-child) {
      margin-right: 5px;
    }
  }

  @media (max-width: 999px) {
    justify-content: center;
    margin-top: 5px;
    font-family: 'Roboto Condensed', RobotoCondensed, RobotoCondensed-Regular, Roboto, sans-serif;
    font-size: 10px;
  }
`;var A=Object(n.memo)(({season:e,tournament:t,stage:a,refresh:n,onSeasonChange:r})=>s.a.createElement(L,null,location&&s.a.createElement(h.a,{onClick:n},"Restart"),s.a.createElement(O,{tournament:t,stage:a,season:e,onChange:r}),!b.b&&s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{href:"https://github.com/inker/draw/issues",target:"_blank",rel:"noopener"},"Issues"),s.a.createElement(x,null)))),z=a(502),B=a(199),$=a.n(B),M=a(202),P=a.n(M),T=a(69);const R=a(200)(["heather-guardian","button-match","conscious-cheek"]);var N=async(e,t)=>{for(;!navigator.onLine;)console.error("you're offline, retrying..."),await $()(250);const a=new URLSearchParams;a.set("url",e),t&&a.set("encoding",t);for(const t of R){const n=new URL(`https://${t}.glitch.me`);n.search=a.toString();try{const t=await fetch(n.toString());if(200!==t.status)throw new Error(`${e}: ${t.status}`);return t.text()}catch(e){console.error(e)}}throw new Error(`could not load url ${e}`)};const F="http://kassiesa.home.xs4all.nl/bert/uefa",D=i.currentSeason.uefa.cl.gs,H=(e,t)=>`${F}/seed${e}${t}.html`,K=(e,t)=>`${F}/history/seed${e}${t}.html`;async function U(e){for(;!navigator.onLine;)console.error("you're offline, retrying..."),await $()(1e3);const t=await N(e,"latin1");if(t.includes("<title>404 Not Found</title>"))throw new Error(`${e}: 404`);return t}var V=(e,t)=>{const a=[H(e,t),K(e,t)];return t!==D&&a.reverse(),async function(e){for(const t of e)try{return await U(t)}catch(e){console.error(e)}throw new Error(`could not load urls ${e.join(", ")}`)}(a)},G=a(511),W=a(503);class Z{constructor(e,t,a){this.id=l("team-"),this.name=e,this.country=t,this.shortName=a}}class _ extends Z{constructor(e,t,a,n,s){super(e,t,n),this.coefficient=a,this.pairing=s}}var I=a(205),q=a.n(I),J=a(513);var Q=a(206)(J,(e,t)=>e.map(e=>new Z(e,t))),Y=a(207);const X=/y|(ij)/g,ee=/kh/g,te=/zh/g,ae=/red star/gi,ne=/stade rennais/gi,se=/videoton fehervar/gi;var re=T(e=>Y(e).toLowerCase().replace(X,"i").replace(ee,"k").replace(te,"j").replace(ae,"crvena zvezda").replace(ne,"rennes").replace(se,"vidi")),oe=a(208),le=a.n(oe),ie=a(209);const ce=(e,t)=>1-le.a.get(e,t)/Math.max(e.length,t.length);var ge=(e,t)=>{if(!(t in Q))return console.error("no clubs from",t,"including",e,"exist yet"),null;const a=re(e),n=Q[t],s=n.filter(e=>((e,t)=>new RegExp(`\\b${t}\\b`).test(e))(a,re(e.name)));return 1===s.length?s[0].name:((e,t,a)=>{const n=e.map(e=>({team:e,dist:ce(t,re(e.name))})),s=ie(n,"dist");return!s||s.dist<a?null:s.team.name})(s.length?s:n,a,.45)};function ve(e){const t=[[],[],[],[]],a=e.length,n=a>>1;for(let s=0;s<a;++s){t[~~(s/n)<<1|s%2].push(e[s])}return t}var ue=(e,t)=>(async function(e){const t=e.match(/Pot 1\s{5}([\s\S]+?)<\/table>/);if(!t)throw new Error("could not parse");e=t[1];const a=/\s*(.+?)\s*(\*+\d?|\(([CE]L-)?TH\))?\s+(\w{3})\s+(\d{1,3}\.\d{3})/g,n=[];let s;for(;null!==(s=a.exec(e));){const e=s[1].replace(/\*|(@\d)/g,"").trim(),t=W[s[4].toLowerCase()],a=ge(e,t)||void 0,r=+s[5];n.push(new _(e,t,r,a))}return n})(e).then(e=>(async(e,t)=>{const a=e.slice();for(const[e,n]of t){const t=a.find(t=>t.shortName===e),s=a.find(e=>e.shortName===n);if(t&&s){if(t.country!==s.country)throw new Error(`teams ${t.name} & ${s.name} cannot be paired up`);t.pairing=s,s.pairing=t,q()(a,t),q()(a,s)}}a.sort((e,t)=>t.coefficient-e.coefficient);const n=a.length,s=n-1;for(let e=0;e<s;++e){const t=a[e];if(!t.pairing)for(let s=e+1;s<n;++s){const e=a[s];if(!e.pairing&&t.country===e.country){t.pairing=e,e.pairing=t;break}}}return e})(e,t)).then(ve);class me extends Z{constructor(e,t,a,n){super(e,t),this.group=a,this.shortName=n}}var de=a(210);class fe extends Z{constructor(e,t,a,n,s){super(e,t),this.coefficient=a,this.confederation=n,this.host=s}}var he=a(490),be=T(e=>{const t=document.createElement("img");return new Promise(a=>{t.onload=a,t.src=e})}),pe=a(470);var ke=Object(n.memo)(e=>{var{tournament:t,stage:r,pots:o,onLoadError:l}=e,i=k.a(e,["tournament","stage","pots","onLoadError"]);const[c,g]=Object(n.useState)(null),v=Object(n.useCallback)(()=>a(515)(`./${t}/${r}/index`),[t,r]);Object(n.useEffect)(()=>{v().then(g).catch(l)},[t,r]);const u=c&&c.default;return o&&u&&s.a.createElement(u,Object.assign({},i,{pots:o}))});const Ee=T(async e=>{return(e=>{const t=e.map(e=>new fe(e.name,e.code,0,e.confederation,e.host));return de(t,8)})((await a(516)(`./wc-${e}.json`)).default)}),we=T(async(e,t,n)=>{const s=V(e,n),r=await(async(e,t)=>{try{return(await a(512)(`./${e}/${t}.json`)).default}catch(a){console.log("pairings for ",t,e,"do not exist, using the default ones")}return G})(n,e),o=await s;return"ko"===t?(async e=>{const t=e.match(/Round 2 \(\d+? teams\)[\s\S]+?--------([\s\S]+)/);if(!t||!t[1])throw new Error("incorrect incoming data");const a=t[1],n=[[],[]],s=/\s*(.+?)(\s\*+\d?|\([CE]L-TH\)?\s+)?\s{2,}(\w{3})\s+/g;let r;for(let e=0;null!==(r=s.exec(a));++e){const t=r[1].replace(/(@\d|#|\*+|\(TH\))/g,"").trim(),a=W[r[3].toLowerCase()];if(!a)break;const s=ge(t,a)||void 0,o=e<24?e>>1:e;n[e%2].push(new me(t,a,o,s))}return n})(o):ue(o,r)},(e,t,a)=>`${e}:${t}:${a}`);var ye=Object(n.memo)(({tournament:e,stage:t,season:a,dummyKey:r,match:i,onError:g,onSeasonChange:v})=>{const[,u]=Object(c.a)(),[m,f]=Object(pe.a)({key:l(),pots:null,season:d("cl","gs")}),h=Object(n.useCallback)(()=>{const{params:e}=i,t=e.season?+e.season:d(e.tournament,e.stage);return Object.assign({},e,{season:t})},[i]),b=Object(n.useCallback)(async e=>{console.error(e),u({waiting:!1,error:"Could not fetch data"}),await $()(1e3);const{tournament:t,stage:a}=h(),n=m.pots&&m.season!==d(t,a)?m.season:void 0;v(t,a,n),u({error:null})},[i,m,u,v]),p=Object(n.useCallback)(async()=>{u({waiting:!0});try{const n="wc"===e?Ee(2018):we(e,t,a),s=await n;await P()(function(e){const t=[];for(const a of e){const e=a.map(e=>Object(he.a)(e.country));t.push(...e.map(be))}return Promise.all(t)}(s),5e3,{rejectOnTimeout:!1}),f({pots:s,key:l(),season:a}),u({waiting:!1,error:null})}catch(e){b(e)}},[a,t,e,u]);Object(n.useEffect)(()=>{p()},[a,t,e]),((e,t)=>{const a=Object(n.useRef)(!0);Object(n.useEffect)(()=>{a.current?a.current=!1:e()},t)})(()=>{f({key:r})},[r]);const{pots:k,key:E}=m;return s.a.createElement(o.d,null,s.a.createElement(o.b,{path:"/cl"},s.a.createElement(s.a.Fragment,null,s.a.createElement(z.Helmet,null,s.a.createElement("title",null,"CL draw simulator"),s.a.createElement("link",{rel:"icon",href:"//img.uefa.com/imgml/favicon/comp/ucl.ico",type:"image/x-icon"}),s.a.createElement("meta",{name:"theme-color",content:"#00336a"}),s.a.createElement("meta",{name:"description",content:"Champions League draw simulator"})),s.a.createElement(o.d,null,s.a.createElement(o.b,{path:"/cl/gs"},s.a.createElement(ke,{tournament:"cl",stage:"gs",pots:k,key:E,onLoadError:g})),s.a.createElement(o.b,{path:"/cl/ko"},s.a.createElement(ke,{tournament:"cl",stage:"ko",pots:k,key:E,onLoadError:g}))))),s.a.createElement(o.b,{path:"/el"},s.a.createElement(s.a.Fragment,null,s.a.createElement(z.Helmet,null,s.a.createElement("title",null,"EL draw simulator"),s.a.createElement("link",{rel:"icon",href:"//img.uefa.com/imgml/favicon/comp/uefacup.ico",type:"image/x-icon"}),s.a.createElement("meta",{name:"theme-color",content:"#f68e00"}),s.a.createElement("meta",{name:"description",content:"Europa League draw simulator"})),s.a.createElement(o.d,null,s.a.createElement(o.b,{path:"/el/gs"},s.a.createElement(ke,{tournament:"el",stage:"gs",pots:k,key:E,onLoadError:g})),s.a.createElement(o.b,{path:"/el/ko"},s.a.createElement(ke,{tournament:"el",stage:"ko",pots:k,key:E,onLoadError:g}))))),s.a.createElement(o.b,{path:"/wc"},s.a.createElement(s.a.Fragment,null,s.a.createElement(z.Helmet,null,s.a.createElement("title",null,"FIFA World Cup draw simulator"),s.a.createElement("link",{rel:"icon",href:"//www.fifa.com/imgml/favicon/favicon.ico",type:"image/x-icon"}),s.a.createElement("meta",{name:"theme-color",content:"#326295"}),s.a.createElement("meta",{name:"description",content:"FIFA World Cup draw simulator"})),s.a.createElement(o.d,null,s.a.createElement(o.b,{path:"/wc/gs"},s.a.createElement(ke,{tournament:"wc",stage:"gs",pots:k,key:E,onLoadError:g})),s.a.createElement(o.a,{from:"/wc/*",to:"/wc/gs"})))))}),je=a(4);var Se=Object(je.b)();function Oe(e,t,a){Se.push(`/${e}/${t}${a?`/${a}`:""}`)}function Ce(e){const t=function(e){if(!e)return d(i.defaultTournament,i.defaultStage);const[,t,a,n]=e.pathname.split("/");return+(n||d(t,a))}(e),[,a,n]=e.pathname.split("/");return{season:t,tournament:a,stage:n}}t.default=Object(n.memo)(({onError:e})=>{const[t,a]=function(){const[e,t]=Object(n.useState)(l());return[e,Object(n.useCallback)(()=>{t(l())},[])]}(),[g]=Object(c.a)(),{tournament:u,stage:m,season:d}=function(){const[e,t]=Object(n.useState)(Se.location),a=Object(n.useCallback)(e=>{t(e)},[]);return Object(n.useEffect)(()=>(t(e),Se.listen(a)),[]),Ce(e)}();return s.a.createElement(r.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(v,{visible:!g.initial},s.a.createElement(A,{refresh:a,season:d,tournament:u,stage:m,onSeasonChange:Oe})),s.a.createElement(o.d,null,s.a.createElement(o.b,{path:"/:tournament/:stage/:season?"},u&&m?s.a.createElement(ye,{dummyKey:t,tournament:u,stage:m,season:d,onError:e,onSeasonChange:Oe}):null),s.a.createElement(o.a,{from:"/wc",to:`/wc/${i.defaultStage}`}),s.a.createElement(o.a,{from:"/el",to:`/el/${i.defaultStage}`}),s.a.createElement(o.a,{from:"/cl",to:`/cl/${i.defaultStage}`}),s.a.createElement(o.a,{from:"/",to:`/${i.defaultTournament}`}))))})}}]);