(window.webpackJsonp=window.webpackJsonp||[]).push([["wc.gs"],{524:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(200),r=a(197),l=a(16),u=a(470),s=a(480),d=a(501),i=a(499),m=a(468),p=a(478),b=a(477),j=a(500),O=a(473),f=a(474),g=a(475),k=a(479),w=a(476),h=a(525),E=a.n(h);const P=["rgba(0, 128, 0, 0.25)"];function T(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(c.memo)(({pots:e})=>{const[t,a]=Object(c.useState)(r("draw-")),h=Object(c.useMemo)(()=>e.map(e=>o(e)),[e,t]),G=Object(c.useMemo)(()=>e[0].map(e=>[]),[e,t]),N=Object(c.useMemo)(()=>T(h),[h]),[{currentPotNum:y,selectedTeam:C,pickedGroup:x,hungPot:v},M]=Object(u.a)(N),[,$]=Object(l.a)(),I=Object(i.a)(E.a),[J,S]=Object(s.a)(),[A,W]=Object(d.a)(3e3);Object(c.useEffect)(()=>{C&&D()},[C]),Object(c.useEffect)(()=>{const e=h[y].findIndex(e=>e.host);B(e)},[t]);const q=Object(c.useCallback)(()=>{a(r("draw-")),M(T(e))},[e]),z=Object(c.useCallback)(async e=>(await I({pots:h,groups:G,selectedTeam:e,currentPotNum:y})).pickedGroup,[h,G,y]),B=Object(c.useCallback)(async e=>{const t=h[y];M({hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[h,y]),D=Object(c.useCallback)(async()=>{if(!C)throw new Error("no selected team");let e;W.set(C);try{e=await z(C)}catch(e){return console.error(e),void $({error:"Could not determine the group"})}G[e].push(C);const t=h[y].length>0?y:y+1;S.add(C),W.reset(),M({selectedTeam:null,pickedGroup:e,hungPot:h[t],currentPotNum:t})},[C,h,G,y]),F=y>=h.length;return n.a.createElement(w.a,null,n.a.createElement(O.a,null,n.a.createElement(b.a,{selectedTeams:C&&[C],initialPots:e,pots:h,currentPotNum:y}),n.a.createElement(j.a,{maxTeams:h.length,currentPotNum:y,groups:G,possibleGroups:null,airborneTeams:J,groupColors:P})),n.a.createElement(f.a,null,n.a.createElement(g.a,{forceNoSelect:!!C,display:!F,selectedTeam:C,pot:v,onPick:B}),n.a.createElement(k.a,{long:!0,calculating:A,completed:F,selectedTeam:C,pickedGroup:x,possibleGroups:null,numGroups:G.length,reset:q})),J.map(e=>{const t=G.findIndex(t=>t.includes(e)),a=G[t].indexOf(e);return n.a.createElement(p.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${Object(m.a)(t)}${a}']`,duration:350,data:e,onAnimationEnd:S.remove})}))})},525:function(e,t,a){e.exports=function(){return new Worker(a.p+"a843e905ad3e7ef6e793.worker.js")}}}]);